<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./img/logo_a.png">
    <link rel="stylesheet" href="./style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Oswald&family=Roboto:wght@400;700&display=swap" rel="stylesheet">

    <title>CENTRAL CARS</title>
</head>

<body>

    <section class="navbar">

        <nav class="navigationWrapper">
            <div class="logoWrapper" onclick="location.href='main.html';" style="cursor:pointer;">
              <img src="./img/logo_a.png">
              <p>Central Cars</p>
            </div>
            <ul class="navigation">
              <li class="parent"><a class="link" href="main.html">Home</a></li>
              <li class="parent"><a class="link" href="shop.html">Boutique</a></li>
              <li class="parent"><a class="link" href="immat.html">Immatriculation</a></li>
              <li class="parent"><a class="link" href="contact.html">Contact</a></li>
            </ul>
          </nav>

    </section>

    <section class="section">
        <div class="grid-container">
            
          <div class="gallery" id="gallery">
    </section>

    <script>
        const sections = document.querySelectorAll('.section');
  
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, {
            threshold: 0.1
        });
  
        sections.forEach(section => {
            observer.observe(section);
        });

        fetch('P:/CLOUD/_CENTRAL%20CARS%20APP/WebApp_ANTS/resources/stock.json') 
        .then(response => response.json()) 
        .then(data => { 
          const gallery = 
          document.getElementById('gallery'); 
          data.forEach(item => { 

            const card = document.createElement('div'); 
            card.className = 'card'; 
          
            const img = document.createElement('img'); 
           img.src = item.lien; card.appendChild(img); 

            const name = document.createElement('h2'); 
            name.textContent = item.nom; 
          
            card.appendChild(name); 
            const price = document.createElement('p'); 
            price.textContent = `Prix: ${item.prix}`; 
            card.appendChild(price); 
            gallery.appendChild(card); }); }) 
        .catch(error => { console.error('Erreur:', error); });
    </script>

</body>

</html>