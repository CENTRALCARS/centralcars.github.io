<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G√©n√©rateur d'Annonces Central Cars</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
        }
        .container {
            max-width: 900px;
        }
        .input-field {
            @apply w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500;
        }
        .checkbox-label, .radio-label {
            @apply flex items-center cursor-pointer text-gray-700 text-sm;
        }
        .checkbox-input, .radio-input {
            @apply mr-2 h-5 w-5 text-red-600 rounded-md focus:ring-red-500;
        }
        .radio-input {
            @apply rounded-full; /* Make radio buttons round */
        }
        .btn {
            @apply px-6 py-3 rounded-lg font-semibold shadow-md transition duration-300 ease-in-out;
        }
        .btn-primary {
            @apply bg-red-600 text-white hover:bg-red-700;
        }
        .btn-secondary {
            @apply bg-gray-200 text-gray-800 hover:bg-gray-300;
        }
        .output-area {
            @apply w-full p-4 border border-gray-300 rounded-lg bg-white resize-y overflow-hidden;
            min-height: 200px;
        }
        /* Custom styling for checked state for better visibility */
        .checkbox-input:checked + span, .radio-input:checked + span {
            @apply font-medium text-red-700;
        }
    </style>
</head>
<body class="p-4 sm:p-6 lg:p-8">
    <div class="container mx-auto bg-white p-6 sm:p-8 rounded-xl shadow-lg">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">G√©n√©rateur d'Annonces Central Cars</h1>

        <form id="adForm" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <!-- Informations G√©n√©rales -->
            <div class="md:col-span-2">
                <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">Informations du V√©hicule</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="marque" class="block text-sm font-medium text-gray-700 mb-1">Marque :</label>
                        <input type="text" id="marque" class="input-field" placeholder="Ex: Renault" required>
                    </div>
                    <div>
                        <label for="modele" class="block text-sm font-medium text-gray-700 mb-1">Mod√®le :</label>
                        <input type="text" id="modele" class="input-field" placeholder="Ex: Clio IV" required>
                    </div>
                    <div>
                        <label for="miseEnCirculation" class="block text-sm font-medium text-gray-700 mb-1">Mise en circulation :</label>
                        <input type="text" id="miseEnCirculation" class="input-field" placeholder="Ex: 01/2018" required>
                    </div>
                    <div>
                        <label for="carburant" class="block text-sm font-medium text-gray-700 mb-1">Carburant :</label>
                        <input type="text" id="carburant" class="input-field" placeholder="Ex: Essence" required>
                    </div>
                    <div>
                        <label for="kilometrage" class="block text-sm font-medium text-gray-700 mb-1">Kilom√©trage :</label>
                        <input type="number" id="kilometrage" class="input-field" placeholder="Ex: 85000" required>
                    </div>
                    <div>
                        <label for="prix" class="block text-sm font-medium text-gray-700 mb-1">Prix (‚Ç¨ TTC) :</label>
                        <input type="number" id="prix" class="input-field" placeholder="Ex: 12500" required>
                    </div>
                    <div class="sm:col-span-2">
                        <label for="equivalent" class="block text-sm font-medium text-gray-700 mb-1">Equivalent (optionnel) :</label>
                        <input type="text" id="equivalent" class="input-field" placeholder="Ex: Megane break, 207 SW">
                    </div>
                </div>
            </div>

            <!-- Entretiens Effectu√©s -->
            <div class="md:col-span-2">
                <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">Entretiens Effectu√©s</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3" id="maintenanceCheckboxes">
                    <label class="checkbox-label"><input type="checkbox" name="maintenance" value="Vidange moteur" class="checkbox-input"><span>Vidange moteur</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="maintenance" value="Filtre √† huile" class="checkbox-input"><span>Filtre √† huile</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="maintenance" value="Kit distribution" class="checkbox-input"><span>Kit distribution</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="maintenance" value="Filtre √† air" class="checkbox-input"><span>Filtre √† air</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="maintenance" value="Filtre √† carburant" class="checkbox-input"><span>Filtre √† carburant</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="maintenance" value="Filtre d'habitacle" class="checkbox-input"><span>Filtre d'habitacle</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="maintenance" value="Plaquettes de frein avant" class="checkbox-input"><span>Plaquettes de frein avant</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="maintenance" value="Plaquettes de frein arri√®re" class="checkbox-input"><span>Plaquettes de frein arri√®re</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="maintenance" value="Disques de frein avant" class="checkbox-input"><span>Disques de frein avant</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="maintenance" value="Disques de frein arri√®re" class="checkbox-input"><span>Disques de frein arri√®re</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="maintenance" value="Pneus avant" class="checkbox-input"><span>Pneus avant</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="maintenance" value="Pneus arri√®re" class="checkbox-input"><span>Pneus arri√®re</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="maintenance" value="Contr√¥le technique OK" class="checkbox-input"><span>Contr√¥le technique OK</span></label>
                </div>
            </div>

            <!-- Suivi Kilom√©trique / Carnet d'Entretiens -->
            <div class="md:col-span-2">
                <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">Suivi du V√©hicule</h2>
                <div class="flex flex-col sm:flex-row gap-4">
                    <label class="radio-label">
                        <input type="radio" name="kilometerTracking" value="suivi_complet" class="radio-input" checked>
                        <span>Vendu avec son suivi kilom√©trique complet</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="kilometerTracking" value="carnet_inclus" class="radio-input">
                        <span>Carnet d'entretiens inclus</span>
                    </label>
                </div>
            </div>

            <!-- √âquipements Ext√©rieur/Int√©rieur -->
            <div class="md:col-span-2">
                <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">√âquipements Ext√©rieur/Int√©rieur</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3" id="featuresCheckboxes">
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Vitres √©lectriques" class="checkbox-input"><span>Vitres √©lectriques</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="R√©troviseur √©lectriques" class="checkbox-input"><span>R√©troviseur √©lectriques</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Bluetooth" class="checkbox-input"><span>Bluetooth</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="USB" class="checkbox-input"><span>USB</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="AUX" class="checkbox-input"><span>AUX</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Microphone appel autoradio" class="checkbox-input"><span>Microphone appel autoradio</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Phare √©clairage automatique" class="checkbox-input"><span>Phare √©clairage automatique</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Toit panoramique" class="checkbox-input"><span>Toit panoramique</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Ordinateur de bord" class="checkbox-input"><span>Ordinateur de bord</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Radio commande au volant" class="checkbox-input"><span>Radio commande au volant</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Ouverture/fermeture centralis√©e" class="checkbox-input"><span>Ouverture/fermeture centralis√©e</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="ISOFIX" class="checkbox-input"><span>ISOFIX</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Climatisation" class="checkbox-input"><span>Climatisation</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Radar de recul" class="checkbox-input"><span>Radar de recul</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Prise allume cigare" class="checkbox-input"><span>Prise allume cigare</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Phares antibrouillard arri√®re" class="checkbox-input"><span>Phares antibrouillard arri√®re</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Phares antibrouillard avant" class="checkbox-input"><span>Phares antibrouillard avant</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Vendu avec deux cl√©s" class="checkbox-input"><span>Vendu avec deux cl√©s</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="ABS" class="checkbox-input"><span>ABS</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Airbags frontaux, lat√©raux" class="checkbox-input"><span>Airbags frontaux, lat√©raux</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Volant r√©glable en hauteur et en profondeur" class="checkbox-input"><span>Volant r√©glable en hauteur et en profondeur</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="R√©gulateur de vitesse" class="checkbox-input"><span>R√©gulateur de vitesse</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Limiteur de vitesse" class="checkbox-input"><span>Limiteur de vitesse</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Jantes alliage" class="checkbox-input"><span>Jantes alliage</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="GPS" class="checkbox-input"><span>GPS</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Cam√©ra de recul" class="checkbox-input"><span>Cam√©ra de recul</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Start & Stop" class="checkbox-input"><span>Start & Stop</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Si√®ges chauffants" class="checkbox-input"><span>Si√®ges chauffants</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Sellerie cuir" class="checkbox-input"><span>Sellerie cuir</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Aide au d√©marrage en c√¥te" class="checkbox-input"><span>Aide au d√©marrage en c√¥te</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Frein de parking √©lectrique" class="checkbox-input"><span>Frein de parking √©lectrique</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="D√©tecteur de pluie" class="checkbox-input"><span>D√©tecteur de pluie</span></label>
                    <label class="checkbox-label"><input type="checkbox" name="feature" value="Allumage automatique des feux" class="checkbox-input"><span>Allumage automatique des feux</span></label>
                </div>
            </div>

            <div class="md:col-span-2 flex flex-col sm:flex-row justify-center gap-4 mt-6">
                <button type="button" id="generateBtn" class="btn btn-primary">G√©n√©rer l'annonce</button>
                <button type="button" id="copyBtn" class="btn btn-secondary">Copier le texte</button>
            </div>
        </form>

        <div class="mt-8">
            <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">Texte de l'annonce g√©n√©r√©</h2>
            <textarea id="adOutput" class="output-area" readonly placeholder="Le texte de l'annonce appara√Ætra ici..."></textarea>
            <div id="copyMessage" class="mt-2 text-sm text-green-600 text-center hidden">Texte copi√© !</div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const generateBtn = document.getElementById('generateBtn');
            const copyBtn = document.getElementById('copyBtn');
            const adOutput = document.getElementById('adOutput');
            const copyMessage = document.getElementById('copyMessage');

            generateBtn.addEventListener('click', generateAd);
            copyBtn.addEventListener('click', copyAd);

            /**
             * Automatically adjusts the height of the textarea to fit its content.
             */
            function autoResizeTextarea() {
                // Reset height to 'auto' to correctly calculate scrollHeight
                adOutput.style.height = 'auto';
                // Set height to scrollHeight to fit content
                adOutput.style.height = adOutput.scrollHeight + 'px';
            }

            function generateAd() {
                const marque = document.getElementById('marque').value;
                const modele = document.getElementById('modele').value;
                const miseEnCirculation = document.getElementById('miseEnCirculation').value;
                const carburant = document.getElementById('carburant').value;
                const kilometrage = document.getElementById('kilometrage').value;
                const prix = document.getElementById('prix').value;
                const equivalent = document.getElementById('equivalent').value;

                const selectedMaintenance = Array.from(document.querySelectorAll('input[name="maintenance"]:checked'))
                                            .map(checkbox => `üî∏ ${checkbox.value}`);

                const kilometerTrackingOption = document.querySelector('input[name="kilometerTracking"]:checked').value;

                const selectedFeatures = Array.from(document.querySelectorAll('input[name="feature"]:checked'))
                                            .map(checkbox => `‚úÖ ${checkbox.value}`);

                let adText = `üü•üü¶ CENTRAL CARS üü•üü¶\n\n`;
                adText += `Marque : ${marque}\n`;
                adText += `Mod√®le : ${modele}\n`;
                adText += `Mise en circulation : ${miseEnCirculation}\n`;
                adText += `Carburant : ${carburant}\n`;
                adText += `Bo√Æte de vitesse : Manuel\n`;
                adText += `Kilom√©trage : ${kilometrage} KM REEL ET GARANTI\n\n`;

                if (selectedMaintenance.length > 0) {
                    adText += `üõ† ENTETIENS EFFECTU√âS DANS NOS ATELIERS : \n`;
                    adText += selectedMaintenance.join('\n') + '\n\n';
                } else {
                    adText += `üõ† AUCUN ENTRETIEN R√âCENT SP√âCIFI√â DANS NOS ATELIERS.\n\n`;
                }

                if (kilometerTrackingOption === 'suivi_complet') {
                    adText += `üìñ VENDU AVEC SON SUIVIS KILOM√âTRIQUE COMPLET üìñ\n\n`;
                } else {
                    adText += `üìñ CARNET D'ENTRETIENS INCLUS üìñ\n\n`;
                }

                if (selectedFeatures.length > 0) {
                    adText += `üî∞ Ext√©rieur/ Int√©rieur üî∞\n\n`;
                    adText += selectedFeatures.join('\n') + '\n\n';
                } else {
                    adText += `üî∞ AUCUN √âQUIPEMENT SP√âCIFI√â üî∞\n\n`;
                }


                adText += `Prix : ${prix} ‚Ç¨ TTC üí∂\n`;
  
                // Add "Tarif hors carte grise." only if price is provided
                if (prix) {
                    adText += `Tarif hors carte grise.\n\n`;
                } else {
                    adText += `\n`; // Add a newline for spacing even if price is not provided
                }

                adText += `üçÉ Crit'Air 1\n\n`;

                adText += `üßëüèº‚Äçüîß Garantie moteur et bo√Æte 6 mois (extension de garantie possible).\n\n`;

                adText += `üá´üá∑üá´üá∑HABILIT√âE SERVICE CARTE GRISE üá´üá∑üá´üá∑\n\n`;
                adText += `Habilit√© par le Agence Nationale des Titres S√©curis√©s.\n\n`;
                adText += `Nous nous occupons de toutes les d√©marches administratives d'immatriculation !\n\n`;
                adText += `Pour faciliter les d√©marches administratives pensez a vous munir des pi√®ces suivantes lors de votre visite : \n`;
                adText += `üî∏Pi√®ce d'identit√© en cours de validit√©.\n`;
                adText += `üî∏Permis de conduire en cours de validit√©.\n`;
                adText += `üî∏Justificatif de domicile moins de 3 mois (facture ou avis d'imposition).\n`;
                adText += `üî∏En cas d'h√©bergement : une attestation d'h√©bergement et la copie de la carte d'identit√© de l'h√©bergeur.\n\n`;

                adText += `üü•üü¶ CENTRAL CARS üü•üü¶\n\n`;
                adText += `üì´576 Rue Marcel Sembat \n`;
                adText += `     59690 Vieux-cond√©\n\n`;

                adText += `‚è∞HORAIRES D'OUVERTURE‚è∞\n`;
                adText += `- Du lundi au vendredi : 09H00-12H00 / 14H00-17h30\n`;
                adText += `- SAMEDI : 9h30 -12h 14h30 - 17H00\n\n`;

                adText += `‚ö† Merci de prendre rendez-vous par t√©l√©phone avant votre venue afin de mieux pouvoir vous accueillir et de vous assurez de la disponibilit√© du v√©hicule ‚ö†\n\n`;

                if (equivalent) {
                    adText += `Equivalent : ${equivalent}\n\n`;
                }

                adText += `*sous r√©serve d‚Äôerreurs lors de l‚Äô√©dition des annonce.`;

                adOutput.value = adText;
                autoResizeTextarea(); // Call auto-resize after updating content
            }

            function copyAd() {
                adOutput.select();
                document.execCommand('copy');
                copyMessage.classList.remove('hidden');
                setTimeout(() => {
                    copyMessage.classList.add('hidden');
                }, 2000);
            }

            // Initial generation on load if fields are pre-filled (e.g., from browser history)
            // And also auto-resize the textarea on load
            generateAd();
        });
    </script>
</body>
</html>
